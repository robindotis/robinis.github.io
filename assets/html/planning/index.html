<!DOCTYPE html>
<html lang="en-GB">
    <head>
        <meta charset="UTF-8">
        <!-- See: https://www.w3schools.com/css/css_rwd_viewport.asp-->
        <!-- 
            var tasksInline = [
                {
                    "localid": "ts0",
                    "id": "10001",
                    "name": "Translation 1",
                    "pages": "8",
                    "startDate": "2023-02-14",
                    "endDate": "2023-02-16"
                },
                {
                    "localid": "ts1",
                    "id": "10002",
                    "name": "Translation 2",
                    "pages": "26",
                    "startDate": "2023-2-15",
                    "endDate": "2023-02-17"
                },
                {
                    "localid": "ts2",
                    "id": "10003",
                    "name": "Translation 3",
                    "pages": "41",
                    "startDate": "2023-02-16",
                    "endDate": "2023-02-19"
                },
                {
                    "localid": "ts3",
                    "id": "10004",
                    "name": "Translation 4",
                    "pages": "8",
                    "startDate": "2023-02-15",
                    "endDate": "2023-03-18"
                },
                {
                    "localid": "ts4",
                    "id": "10005",
                    "name": "Translation 5",
                    "pages": "1",
                    "startDate": "2023-2-15",
                    "endDate": "2023-02-17"
                },
                {
                    "localid": "ts5",
                    "id": "10006",
                    "name": "Translation 6",
                    "pages": "3",
                    "startDate": "2023-2-15",
                    "endDate": "2023-02-17"
                },
                {
                    "localid": "ts6",
                    "id": "10007",
                    "name": "Translation 7",
                    "pages": "3",
                    "startDate": "2023-2-15",
                    "endDate": "2023-02-17"
                },
                {
                    "localid": "ts7",
                    "id": "10008",
                    "name": "Translation 8",
                    "pages": "1",
                    "startDate": "2023-2-15",
                    "endDate": "2023-02-17"
                }
            ];
        -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Task planner</title>

        <style>
            td {
                border: 1px solid #000;
                vertical-align: top;
            }
        </style>

        <script src="planning.js" defer></script>
    </head>
    <body>
        <header>
            <h1>Translation planner</h1>
        </header>
        <main>
            <h2>Messages</h2>
            <span id="message">Planning loaded</span>
            <h2>Tasks</h2>
            <div id="tasks">
                <div id="forms">
                    <form id="form0" onsubmit="return processForm(event)"></form>
                </div>
                <table>
                    <thead>
                        <th><label id="task-id">Your Id</label></th>
                        <th><label id="task-name">Name</label></th>
                        <th><label id="task-pages">Pages</label></th>
                        <th><label id="task-date">Due date</label></th>
                        <th><label id="task-submit">Submit</label></th>
                    </thead>
                    <tbody id="taskstable">
                        <tr>
                            <td>
                                <input form="form0" aria-labelledby="task-id" name="task-id" type="text" required size="2">
                            </td>
                            <td>
                                <input form="form0" aria-labelledby="task-name" name="task-name" type="text" required size="10">
                            </td>
                            <td>
                                <input form="form0" aria-labelledby="task-pages" name="task-pages" type="number"  step="1" required>
                            </td>
                            <td>
                                <input form="form0" aria-labelledby="task-date" name="task-date" type="date" required>
                            </td>
                            <td>
                                <input form="form0" name="task-submit" type="submit" value="Add task">
                            </td>
                        </tr>
                    </tbody>
                </table>
                <h3>JSON</h3>
                <p>
                    Copy and store in case loose browser localstorage
                </p>
                <code id="json">

                </code>
                <form id="jsonForm" onsubmit="processJSON(event);">
                    <label for="json-tasks">Paste saved JSON</label>
                    <br/>
                    <textarea name="json-tasks" id="json-tasks" cols="100" rows="5"></textarea>
                    <br/>
                    <input type="submit" value="Save JSON tasks" />                    
                </form>
            </div>
            <template id="taskForm">
                <form id="form" onsubmit="return processForm(event);"></form>
            </template>
            <template id="taskInputs">
                <tr>
                    <td>
                        <input form="form" name="task-localid" type="text" required readonly hidden>
                        <input form="form" aria-labelledby="task-id" name="task-id" type="text" required size="2">
                    </td>
                    <td>
                        <input form="form" aria-labelledby="task-name" name="task-name" type="text" required size="10">
                    </td>
                    <td>
                        <input form="form" aria-labelledby="task-pages" name="task-pages" type="number" step="1" required>
                    </td>
                    <td>
                        <input form="form" aria-labelledby="task-date" name="task-date" type="date" required>
                    </td>
                    <td>
                        <input form="form" name="task-submit" type="submit" value="Update task">
                    </td>
                </tr>
            </template>
            <h2>Holidays</h2>
            <div id="holidayForms">
                <form id="holidayForm0" onsubmit="return processHolidayForm(event)"></form>
            </div>
            <table>
                <thead>
                    <th><label id="holiday-start">Start date</label></th>
                    <th><label id="holiday-end">End date</label></th>
                    <th><label id="holiday-action">Action</label></th>
                </thead>
                <tbody id="holidaystable">
                    <tr>
                        <td>
                            <input form="holidayForm0" aria-labelledby="holiday-start" name="holiday-start" type="date" required>
                        </td>
                        <td>
                            <input form="holidayForm0" aria-labelledby="holiday-end" name="holiday-end" type="date" required>
                        </td>
                        <td>
                            <input form="holidayForm0" name="holiday-submit" type="submit" value="Add holiday">
                        </td>
                    </tr>
                </tbody>
            </table>
            <h3>JSON</h3>
            <p>
                Copy and store in case loose browser localstorage
            </p>
            <code id="jsonHolidays">

            </code>
            <form id="jsonHolidayForm" onsubmit="processHolidayJSON(event);">
                <label for="json-holidays">Paste saved JSON</label>
                <br/>
                <textarea name="json-holidays" id="json-holidays" cols="100" rows="5"></textarea>
                <br/>
                <input type="submit" value="Save JSON holidays" />                    
            </form>
            <template id="holidayForm">
                <form id="holidayForm" onsubmit="return processHolidayForm(event);"></form>
            </template>
            <template id="holidayInputs">
                <tr>
                    <td>
                        <input form="holidayForm" name="holiday-localid" type="text" hidden required readonly>
                        <input form="holidayForm" aria-labelledby="holiday-start" name="holiday-start" type="date" required>
                    </td>
                    <td>
                        <input form="holidayForm" aria-labelledby="holiday-end" name="holiday-end" type="date" required>
                    </td>
                    <td>
                        <input form="holidayForm" name="holiday-submit" type="submit" value="Update holiday">
                        <input form="holidayForm" name="holiday-delete" type="button" onclick="deleteHoliday(this);" value="Delete holiday">
                    </td>
                </tr>
            </template>
            <h2>Planning</h2>
            <table>
                <thead>
                    <th>Day</th>
                    <th>Task Id</th>
                    <th>Task Name</th>
                    <th>Hours</th>
                    <th>Total Hours</th>
                </thead>
                <tbody id="planner">
                </tbody>
            </table>
            <template id="day">
                <tr>
                    <td>
                    </td>
                    <td>
                    </td>
                    <td>
                    </td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
            </template>
        </main>
        <footer>
            <p>
                Offered without any warranty or guarantee about the accuracy. Good luck!
            </p>
        </footer>
    </body>
</html>
