<!DOCTYPE html>
<html lang="en-GB">
  <head>
        <meta charset="UTF-8">
    <!-- See: https://www.w3schools.com/css/css_rwd_viewport.asp-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett; Parrain">
    <title>Robin is improving the pipeline</title>

    <meta name="description" content="writing, travelling, seeing, coding and walking the üêï‚Äçü¶∫">
    <meta name="keywords" content="posts,web,development,github,publication,actions,workflows" />
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">

    <link rel="canonical" href="https://www.robin.is/posts/2023/publication-pipeline/">
    <link rel="me" href="https://github.com/robindotis/">
    <link rel="alternate" type="application/rss+xml" title="Robin is RSS" href="/feed/">
    <link rel="alternate" href="/feed/index.xml" type="application/atom+xml" title="Robin is">
    <link rel="alternate" href="." type="application/json" title="Robin is">
    <link rel="icon" href="/assets/images/cw.jpg" type="image/jpeg" sizes="50x50">
    <!--
    <link rel="manifest" href="/manifest.json">
    -->
    <link rel="webmention" href="https://webmention.io/www.robin.is/webmention" />
    <link rel="authorization_endpoint" href="https://indieauth.com/auth">
    <link rel="token_endpoint" href="https://tokens.indieauth.com/token">    

    <meta property="a11y:statement" content="/pages/accessibility/">
    <meta property="a11y:feedback" content="/pages/accessibility/#feedback">
    <meta property="a11y:complaints" content="/pages/accessibility/#complaints">

    <meta property="og:locale" content="en_GB">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Robin is... Improving the pipeline">
    <meta property="og:description" content="writing, travelling, seeing, coding and walking the üêï‚Äçü¶∫">
    <meta property="og:url" content="https://www.robin.is/posts/2023/publication-pipeline/">
    <meta property="og:site_name" content="Robin is">
    <meta property="og:image" content="">

    <meta name="DC.title" content="robin.is">
    <meta name="DC.creator " content="Robin Massart">

    <link rel="preload" href="/assets/fonts/Mona-Sans.woff2" as="font" type="font/woff2" crossorigin>
    

    <link rel="stylesheet" href="/assets/css/fonts.css" media="all">
    <link rel="stylesheet" href="/assets/css/structure.css" media="all">
    <link rel="stylesheet" href="/assets/css/style.css" media="all">
    <link rel="stylesheet" href="/assets/css/default.css" media="all">

    <script src="/assets/js/theme.js" defer></script>

  </head>
  <body>
    <p class="skip-link"><a href="#skip-content-target">Skip to the content</a></p>
    <header class="masthead h-card">
        <div class="header-area">
            <p id="themeSwitch">                
            </p>
            <hr class="nodisplay" aria-hidden="true">
            <div class="header-title">
            <span class="sitetitle">
                <img class="logo u-logo u-photo" src="/assets/images/cw.jpg" alt="" width="50" height="50">
                <a href="/" class="u-url p-name">Robin is</a>
            </span>
            <nav class="subtitle p-note" aria-label="Main">
                <a href="/now/" >now</a>  
                <a href="/writing/" >writing</a>, 
                <a href="/travelling/" >travelling</a>, 
                <a href="/seeing/" >seeing</a>, 
                <a href="/creating/" >creating</a>, 
                <a href="/coding/" >coding</a>, 
                <a href="/reading/" >reading</a> and 
                <a href="/walking/" >walking</a> the 
                <a href="/tagging/angie/"  >dog</a>üêï‚Äçü¶∫. Browse  
                    his 450 <a href="/archiving/" >posts</a> or read 
                <a href="/about/" >about</a> him.

            </nav>
            </div>
        </div>
    </header>
    <main id="site-content"  class="tmpl-post">
        <hr class="nodisplay" aria-hidden="true">
        <div class="main-content">
            
<article class="h-entry">
    <nav aria-label="Paging">
      <div class="prev-next">
        <strong>¬´ Newer:</strong><a class="next" rel="next" href="/posts/2023/bridel-circular-walk/">Bridel Circular Walk</a>

        <br>
        <strong>¬ª Older:</strong><a class="prev" rel="prev" href="/posts/2023/rcs/">Restaurant Computer Systems</a>
      </div>
      <hr>
  </nav>

  <header id="skip-content-target">
      <h1 class="p-name">Improving the pipeline</h1> 
      <h2 class="published">
          <time class="dt-published" datetime="2023-05-24 07:12:00">
              <span class="date-day">24</span> 
              <span class="date-month">May</span>, 
              <span class="date-year">2023</span>
          </time>
      </h2>
  </header>
  <div class="e-content">    
    <p>Since moving this site to <a href="https://www.11ty.dev/">Eleventy</a> back in <a href="/posts/2021/welcome-back/">December 2020</a> I've been continually improving my publication pipeline. It started out being a manual process running bits of hacked together code on my laptop before switching to my online tool of the day for pushing the changes to the hosted site.</p>
<p>For a long time I was using <a href="https://tina.io/forestry/">Forestry.io</a> which is now discontinued and I never really took to it's replacement. So I settled on simply using Github for everything. This means the source for code is pushed from my laptop to  Github, the published site is on Github Pages and the processing for creating the site from the source is managed through Github Actions. Initiallly triggering these three parts were things I did manually and separately.</p>
<p>I soon started scripting these actions in Powershell. The first script simply pushed the changes to github. I modified this to include a pull from github before the push, to ensure there were no conflicts when pushing. After running the script, I would manually switch to GitHub to run the workkflow in GitHub Actions that actually updated the site with the changes.</p>
<p>Well, yesterday I finally added that task to the script as well. Using the GitHub Rest API is straighforward and creating the correct curl command was relatively easy. But I don't know much about curl and in any case the script is a powershell script. Some Googling (mainly using Bing üôÇ) got me most of the way there, by using the <code>Invoke-RestMethod</code>. But I wasn't sure how to add one property to the command. Thankfully I found <a href="https://stackoverflow.com/a/73773558/131948">a code snippet on Stackoverflow</a> which gave me what I needed. It had no explanations or comments, it was just posted as an answer to a question as is. Nevertheless it solved my problem.</p>
<p>And so this post becomes the first one pushed to GitHub and published on GitHub Pages using one integrated script. üëè</p>
 
  </div>
  <hr aria-hidden="true">
    <div class="tagged"><strong>Tagged: </strong><a href="/tagging/web/" class="post-tag" rel="tag">web</a> &nbsp;<a href="/tagging/development/" class="post-tag" rel="tag">development</a> &nbsp;<a href="/tagging/github/" class="post-tag" rel="tag">github</a> &nbsp;<a href="/tagging/publication/" class="post-tag" rel="tag">publication</a> &nbsp;<a href="/tagging/actions/" class="post-tag" rel="tag">actions</a> &nbsp;<a href="/tagging/workflows/" class="post-tag" rel="tag">workflows</a> &nbsp;
  </div>

  <hr aria-hidden="true">
    <nav aria-label="Paging">
      <div class="prev-next">
        <strong>¬´ Newer:</strong><a class="next" rel="next" href="/posts/2023/bridel-circular-walk/">Bridel Circular Walk</a>

        <br>
        <strong>¬ª Older:</strong><a class="prev" rel="prev" href="/posts/2023/rcs/">Restaurant Computer Systems</a>
      </div>
      <hr>
  </nav>

</article>


        </div> 
    </main>
        <footer>
        <div class="footer-area">
            <div class="rss">
                <p>
                <img src="/assets/images/rss-logo.png" alt=""  width="15" height="15">&nbsp;<a class="a11y-statement" href="/feed/">RSS</a>
                
                        | <a href="/pages/accessibility/">Accessibility</a>
                </p>
            </div>
            <div class="copy">
                <p>
                &copy; 1998 - 2024 
                robin.is AI free and 100% Human.
                <div>
                    Hand crafted using <a href="https://www.11ty.dev/">eleventy</a>
                    <span class="emojis"><a href="https://github.com/robindotis/robin.is/blob/master/posts/2023/publication-pipeline.md" title="Edit">üëç</a></span>
                </div>
                </p>
            </div>
            <div class="copy">
                <p>
                <a href="https://xn--sr8hvo.ws/previous">‚Üê</a>
                An <a href="https://xn--sr8hvo.ws">IndieWeb Webring</a> üï∏üíç
                <a href="https://xn--sr8hvo.ws/next">‚Üí</a>
                </p>
            </div>
            <div class="badges">
                <p>
                <a href="https://www.anybrowser.org/campaign/"><img src="/assets/images/any-browser-button.png" alt="Viewable With Any Browser" width="80" height="15" /></a>
                <a href="https://indieweb.org/"><img src="/assets/images/indieweb-button.png" alt="IndieWeb" width="80" height="15" /></a>
                <a href="https://indiewebify.me/"><img src="/assets/images/indiewebified-button.png" alt="IndieWebified" width="80" height="15" /></a>
                <a href="http://microformats.org/"><img src="/assets/images/microformats-button.png" alt="microformats" width="80" height="15" /></a>
                <a href="https://html.spec.whatwg.org/"><img src="/assets/images/valid_html5_blue-button.png" alt="Valid HTML5" width="80" height="15" /></a>
                <a href="https://www.w3.org/Style/CSS/current-work"><img src="/assets/images/valid_css3_blue-button.png" alt="Valid CSS3" width="80" height="15" /></a>
                </p>
            </div>
            <div class="lastrun">
                <p>
                Built on the 30/04/2024 at 00:31:04 in the flashiest of flashes‚ö°.
                </p>
            </div>
        </div>
    </footer>

    <!-- Current page: /posts/2023/publication-pipeline/ -->

  </body>
</html>
